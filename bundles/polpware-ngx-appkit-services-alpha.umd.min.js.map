{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@polpware/ngx-appkit-services-alpha/lib/services/alert.service.ts","ng://@polpware/ngx-appkit-services-alpha/lib/services/configuration.service.ts","ng://@polpware/ngx-appkit-services-alpha/lib/services/app-translation.service.ts","ng://@polpware/ngx-appkit-services-alpha/lib/services/local-store-manager.service.ts","ng://@polpware/ngx-appkit-services-alpha/lib/services/theme-manager.ts","ng://@polpware/ngx-appkit-services-alpha/lib/ngx-appkit-services-alpha.module.ts"],"names":["__values","o","m","Symbol","iterator","i","call","next","length","value","done","AlertService","this","messages","Subject","dialogs","prototype","showDialog","message","type","okCallback","cancelCallback","okLabel","cancelLabel","defaultValue","DialogType","alert","showMessage","data","separatorOrDetail","severity","MessageSeverity","default","HttpResponseBase","Utilities","getHttpResponseMessages","captionAndMessageSeparator","Array","data_1","data_1_1","msgObject","splitInTwo","showMessageHelper","firstPart","secondPart","showStickyMessage","error","onRemove","data_2","data_2_1","msg","safeStringify","info","logInfo","success","logMessage","logError","warn","logWarning","wait","logTrace","summary","detail","isSticky","alertCommand","operation","resetStickyMessage","startLoadingMessage","caption","_this","clearTimeout","loadingMessageTimeoutId","setTimeout","stopLoadingMessage","logDebug","console","debug","log","trace","getDialogEvent","asObservable","getMessageEvent","factory","ɵfac","providedIn","ConfigurationService","localStoreManagerProvider","translationServiceProvider","themeManagerProvider","baseUrl","environment","tokenUrl","loginUrl","fallbackBaseUrl","_language","_homeUrl","_themeId","_showDashboardStatistics","_showDashboardNotifications","_showDashboardTodo","_showDashboardBanner","onConfigurationImported","configurationImported$","localStorage","get","translationService","themeManager","loadLocalChanges","Object","defineProperty","ConfigurationServiceConstants","defaultLanguage","saveToLocalStore","DBkeys","LANGUAGE","changeLanguage","defaultThemeId","THEME_ID","installTheme","getThemeByID","defaultHomeUrl","HOME_URL","defaultShowDashboardStatistics","SHOW_DASHBOARD_STATISTICS","defaultShowDashboardNotifications","SHOW_DASHBOARD_NOTIFICATIONS","defaultShowDashboardTodo","SHOW_DASHBOARD_TODO","defaultShowDashboardBanner","SHOW_DASHBOARD_BANNER","exists","getDataObject","resetLanguage","resetTheme","key","savePermanentData","import","jsonValue","clearLocalChanges","importValue","JsonTryParse","language","themeId","homeUrl","showDashboardStatistics","showDashboardNotifications","showDashboardTodo","showDashboardBanner","export","changesOnly","exportValue","JSON","stringify","deleteData","useBrowserLanguage","useDefaultLangage","core","ɵɵinject","ngxAppkitContractsAlpha","LocalStoreManagerServiceAbstractProvider","TranslationServiceAbstractProvider","ThemeManagerAbstractProvider","AppTranslationService","translate","onLanguageChanged","languageChanged$","addLanguages","setDefaultLanguage","lang","addLangs","setDefaultLang","getDefaultLanguage","defaultLang","getBrowserLanguage","getBrowserLang","getCurrentLanguage","currentLang","getLoadedLanguages","langs","browserLang","match","use","getTranslation","interpolateParams","instant","getTranslationAsync","core$1","TranslateService","LocalStoreManager","syncKeys","initEvent","reservedKeys","sessionStorageTransferHandler","event","newValue","sessionStorage","localStorageSetItem","removeItem","loadSyncKeys","parse","syncKeysContains","sessionStorageSetItem","onInit","addToSessionStorageHelper","removeFromSessionStorageHelper","clearInstanceSessionStorage","addToSyncKeysHelper","removeFromSyncKeysHelper","initialiseStorageSyncListener","syncListenerInitialised","window","addEventListener","syncSessionStorage","deinitialiseStorageSyncListener","removeEventListener","clearAllStorage","clearAllSessionsStorage","clearLocalStorage","DBKEY_SYNC_KEYS","setItem","clear","saveSessionData","StorageManagerConstants","DBKEY_USER_DATA","testForInvalidKeys","removeFromSyncKeys","saveSyncedSessionData","addToSessionStorage","removeFromSessionStorage","moveDataToSessionStorage","getData","moveDataToSyncedSessionStorage","moveDataToPermanentStorage","getItem","sessionStorageGetItem","localStorageGetItem","isDateType","Date","getInitEvent","addToSyncKeysBackup","keyToRemove","removeFromSyncKeysBackup","Error","some","x","getSyncKeysFromStorage","addToSyncKeys","storedSyncKeys","push","index","indexOf","splice","complete","ThemeManager","themes","id","name","href","isDefault","background","color","isDark","theme","removeStyle","setStyle","getDefaultTheme","find","getLinkElementForKey","setAttribute","existingLinkElement","getExistingLinkElementByKey","document","head","removeChild","createLinkElementWithKey","querySelector","getClassNameForKey","linkEl","createElement","classList","add","appendChild","NgxAppkitServicesAlphaModule","providers","imports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { HttpResponseBase } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AlertCommand, AlertDialog, DialogType, IAlertServiceContract, MessageSeverity, Utilities } from '@polpware/ngx-appkit-contracts-alpha';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AlertService implements IAlertServiceContract {\n    private messages = new Subject<AlertCommand>();\n    private dialogs = new Subject<AlertDialog>();\n\n    private loadingMessageTimeoutId: any;\n\n\n\n    showDialog(message: string);\n    showDialog(message: string, type: DialogType, okCallback: (val?: any) => any);\n    showDialog(message: string, type: DialogType, okCallback?: (val?: any) => any, cancelCallback?: () => any, okLabel?: string, cancelLabel?: string, defaultValue?: string);\n    showDialog(message: string, type?: DialogType, okCallback?: (val?: any) => any, cancelCallback?: () => any, okLabel?: string, cancelLabel?: string, defaultValue?: string) {\n\n        if (!type) {\n            type = DialogType.alert;\n        }\n\n        this.dialogs.next({ message, type, okCallback, cancelCallback, okLabel, cancelLabel, defaultValue });\n    }\n\n\n\n    showMessage(summary: string);\n    showMessage(summary: string, detail: string, severity: MessageSeverity);\n    showMessage(summaryAndDetails: string[], summaryAndDetailsSeparator: string, severity: MessageSeverity);\n    showMessage(response: HttpResponseBase, ignoreValue_useNull: string, severity: MessageSeverity);\n    showMessage(data: any, separatorOrDetail?: string, severity?: MessageSeverity) {\n\n        if (!severity) {\n            severity = MessageSeverity.default;\n        }\n\n        if (data instanceof HttpResponseBase) {\n            data = Utilities.getHttpResponseMessages(data);\n            separatorOrDetail = Utilities.captionAndMessageSeparator;\n        }\n\n        if (data instanceof Array) {\n            for (const message of data) {\n                const msgObject = Utilities.splitInTwo(message, separatorOrDetail);\n\n                this.showMessageHelper(msgObject.firstPart, msgObject.secondPart, severity, false);\n            }\n        } else {\n            this.showMessageHelper(data, separatorOrDetail, severity, false);\n        }\n    }\n\n\n    showStickyMessage(summary: string);\n    showStickyMessage(summary: string, detail: string, severity: MessageSeverity, error?: any);\n    showStickyMessage(summary: string, detail: string, severity: MessageSeverity, error?: any, onRemove?: () => any);\n    showStickyMessage(summaryAndDetails: string[], summaryAndDetailsSeparator: string, severity: MessageSeverity);\n    showStickyMessage(response: HttpResponseBase, ignoreValue_useNull: string, severity: MessageSeverity);\n    showStickyMessage(data: string | string[] | HttpResponseBase, separatorOrDetail?: string, severity?: MessageSeverity, error?: any, onRemove?: () => any) {\n\n        if (!severity) {\n            severity = MessageSeverity.default;\n        }\n\n        if (data instanceof HttpResponseBase) {\n            data = Utilities.getHttpResponseMessages(data);\n            separatorOrDetail = Utilities.captionAndMessageSeparator;\n        }\n\n\n        if (data instanceof Array) {\n            for (const message of data) {\n                const msgObject = Utilities.splitInTwo(message, separatorOrDetail);\n\n                this.showMessageHelper(msgObject.firstPart, msgObject.secondPart, severity, true);\n            }\n        } else {\n\n            if (error) {\n\n                const msg = `Severity: \"${MessageSeverity[severity]}\", Summary: \"${data}\", Detail: \"${separatorOrDetail}\", Error: \"${Utilities.safeStringify(error)}\"`;\n\n                switch (severity) {\n                    case MessageSeverity.default:\n                        this.logInfo(msg);\n                        break;\n                    case MessageSeverity.info:\n                        this.logInfo(msg);\n                        break;\n                    case MessageSeverity.success:\n                        this.logMessage(msg);\n                        break;\n                    case MessageSeverity.error:\n                        this.logError(msg);\n                        break;\n                    case MessageSeverity.warn:\n                        this.logWarning(msg);\n                        break;\n                    case MessageSeverity.wait:\n                        this.logTrace(msg);\n                        break;\n                }\n            }\n\n            this.showMessageHelper(data, separatorOrDetail, severity, true, onRemove);\n        }\n    }\n\n    private showMessageHelper(summary: string, detail: string, severity: MessageSeverity, isSticky: boolean, onRemove?: () => any) {\n\n        const alertCommand: AlertCommand = {\n            operation: isSticky ? 'add_sticky' : 'add',\n            message: { severity, summary, detail },\n            onRemove\n        };\n\n        this.messages.next(alertCommand);\n    }\n\n    resetStickyMessage() {\n        this.messages.next({ operation: 'clear' });\n    }\n\n    startLoadingMessage(message = 'Loading...', caption = '') {\n        clearTimeout(this.loadingMessageTimeoutId);\n\n        this.loadingMessageTimeoutId = setTimeout(() => {\n            this.showStickyMessage(caption, message, MessageSeverity.wait);\n        }, 1000);\n    }\n\n    stopLoadingMessage() {\n        clearTimeout(this.loadingMessageTimeoutId);\n        this.resetStickyMessage();\n    }\n\n\n\n    logDebug(msg) {\n        console.debug(msg);\n    }\n\n    logError(msg) {\n        console.error(msg);\n    }\n\n    logInfo(msg) {\n        console.info(msg);\n    }\n\n    logMessage(msg) {\n        console.log(msg);\n    }\n\n    logTrace(msg) {\n        console.trace(msg);\n    }\n\n    logWarning(msg) {\n        console.warn(msg);\n    }\n\n    getDialogEvent(): Observable<AlertDialog> {\n        return this.dialogs.asObservable();\n    }\n\n    getMessageEvent(): Observable<AlertCommand> {\n        return this.messages.asObservable();\n    }\n}\n\n","import { Injectable } from '@angular/core';\nimport { ConfigurationServiceConstants, DBkeys, environment, IConfigurationServiceContract, ILocalStoreManagerContract, IThemeManagerContract, ITranslationServiceContract, LocalStoreManagerServiceAbstractProvider, ThemeManagerAbstractProvider, TranslationServiceAbstractProvider, Utilities } from '@polpware/ngx-appkit-contracts-alpha';\nimport { Subject } from 'rxjs';\n\n\ninterface UserConfiguration {\n    language: string;\n    homeUrl: string;\n    themeId: number;\n    showDashboardStatistics: boolean;\n    showDashboardNotifications: boolean;\n    showDashboardTodo: boolean;\n    showDashboardBanner: boolean;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ConfigurationService implements IConfigurationServiceContract {\n\n    private localStorage: ILocalStoreManagerContract;\n    private translationService: ITranslationServiceContract;\n    private themeManager: IThemeManagerContract;\n\n    constructor(localStoreManagerProvider: LocalStoreManagerServiceAbstractProvider,\n        translationServiceProvider: TranslationServiceAbstractProvider,\n        themeManagerProvider: ThemeManagerAbstractProvider) {\n\n        this.localStorage = localStoreManagerProvider.get();\n        this.translationService = translationServiceProvider.get();\n        this.themeManager = themeManagerProvider.get();\n\n        this.loadLocalChanges();\n    }\n\n    set language(value: string) {\n        this._language = value;\n        this.saveToLocalStore(value, DBkeys.LANGUAGE);\n        this.translationService.changeLanguage(value);\n    }\n    get language() {\n        return this._language || ConfigurationServiceConstants.defaultLanguage;\n    }\n\n\n    set themeId(value: number) {\n        value = +value;\n        this._themeId = value;\n        this.saveToLocalStore(value, DBkeys.THEME_ID);\n        this.themeManager.installTheme(this.themeManager.getThemeByID(value));\n    }\n    get themeId() {\n        return this._themeId || ConfigurationServiceConstants.defaultThemeId;\n    }\n\n\n    set homeUrl(value: string) {\n        this._homeUrl = value;\n        this.saveToLocalStore(value, DBkeys.HOME_URL);\n    }\n    get homeUrl() {\n        return this._homeUrl || ConfigurationServiceConstants.defaultHomeUrl;\n    }\n\n\n    set showDashboardStatistics(value: boolean) {\n        this._showDashboardStatistics = value;\n        this.saveToLocalStore(value, DBkeys.SHOW_DASHBOARD_STATISTICS);\n    }\n    get showDashboardStatistics() {\n        return this._showDashboardStatistics != null ? this._showDashboardStatistics : ConfigurationServiceConstants.defaultShowDashboardStatistics;\n    }\n\n\n    set showDashboardNotifications(value: boolean) {\n        this._showDashboardNotifications = value;\n        this.saveToLocalStore(value, DBkeys.SHOW_DASHBOARD_NOTIFICATIONS);\n    }\n    get showDashboardNotifications() {\n        return this._showDashboardNotifications != null ? this._showDashboardNotifications : ConfigurationServiceConstants.defaultShowDashboardNotifications;\n    }\n\n\n    set showDashboardTodo(value: boolean) {\n        this._showDashboardTodo = value;\n        this.saveToLocalStore(value, DBkeys.SHOW_DASHBOARD_TODO);\n    }\n    get showDashboardTodo() {\n        return this._showDashboardTodo != null ? this._showDashboardTodo : ConfigurationServiceConstants.defaultShowDashboardTodo;\n    }\n\n\n    set showDashboardBanner(value: boolean) {\n        this._showDashboardBanner = value;\n        this.saveToLocalStore(value, DBkeys.SHOW_DASHBOARD_BANNER);\n    }\n    get showDashboardBanner() {\n        return this._showDashboardBanner != null ? this._showDashboardBanner : ConfigurationServiceConstants.defaultShowDashboardBanner;\n    }\n\n    public baseUrl = environment.baseUrl || Utilities.baseUrl();\n    public tokenUrl = environment.tokenUrl || environment.baseUrl || Utilities.baseUrl();\n    public loginUrl = environment.loginUrl;\n    public fallbackBaseUrl = '';\n    // ***End of defaults***\n\n    private _language: string = null;\n    private _homeUrl: string = null;\n    private _themeId: number = null;\n    private _showDashboardStatistics: boolean = null;\n    private _showDashboardNotifications: boolean = null;\n    private _showDashboardTodo: boolean = null;\n    private _showDashboardBanner: boolean = null;\n\n    private onConfigurationImported: Subject<boolean> = new Subject<boolean>();\n    configurationImported$ = this.onConfigurationImported.asObservable();\n\n\n\n    private loadLocalChanges() {\n\n        if (this.localStorage.exists(DBkeys.LANGUAGE)) {\n            this._language = this.localStorage.getDataObject<string>(DBkeys.LANGUAGE, false);\n            this.translationService.changeLanguage(this._language);\n        } else {\n            this.resetLanguage();\n        }\n\n\n        if (this.localStorage.exists(DBkeys.THEME_ID)) {\n            this._themeId = this.localStorage.getDataObject<number>(DBkeys.THEME_ID, false);\n            this.themeManager.installTheme(this.themeManager.getThemeByID(this._themeId));\n        } else {\n            this.resetTheme();\n        }\n\n\n        if (this.localStorage.exists(DBkeys.HOME_URL)) {\n            this._homeUrl = this.localStorage.getDataObject<string>(DBkeys.HOME_URL, false);\n        }\n\n        if (this.localStorage.exists(DBkeys.SHOW_DASHBOARD_STATISTICS)) {\n            this._showDashboardStatistics = this.localStorage.getDataObject<boolean>(DBkeys.SHOW_DASHBOARD_STATISTICS, false);\n        }\n\n        if (this.localStorage.exists(DBkeys.SHOW_DASHBOARD_NOTIFICATIONS)) {\n            this._showDashboardNotifications = this.localStorage.getDataObject<boolean>(DBkeys.SHOW_DASHBOARD_NOTIFICATIONS, false);\n        }\n\n        if (this.localStorage.exists(DBkeys.SHOW_DASHBOARD_TODO)) {\n            this._showDashboardTodo = this.localStorage.getDataObject<boolean>(DBkeys.SHOW_DASHBOARD_TODO, false);\n        }\n\n        if (this.localStorage.exists(DBkeys.SHOW_DASHBOARD_BANNER)) {\n            this._showDashboardBanner = this.localStorage.getDataObject<boolean>(DBkeys.SHOW_DASHBOARD_BANNER, false);\n        }\n    }\n\n\n    private saveToLocalStore(data: any, key: string) {\n        setTimeout(() => this.localStorage.savePermanentData(data, key));\n    }\n\n\n    public import(jsonValue: string) {\n\n        this.clearLocalChanges();\n\n        if (jsonValue) {\n            const importValue: UserConfiguration = Utilities.JsonTryParse(jsonValue);\n\n            if (importValue.language != null) {\n                this.language = importValue.language;\n            }\n\n            if (importValue.themeId != null) {\n                this.themeId = +importValue.themeId;\n            }\n\n            if (importValue.homeUrl != null) {\n                this.homeUrl = importValue.homeUrl;\n            }\n\n            if (importValue.showDashboardStatistics != null) {\n                this.showDashboardStatistics = importValue.showDashboardStatistics;\n            }\n\n            if (importValue.showDashboardNotifications != null) {\n                this.showDashboardNotifications = importValue.showDashboardNotifications;\n            }\n\n            if (importValue.showDashboardTodo != null) {\n                this.showDashboardTodo = importValue.showDashboardTodo;\n            }\n\n            if (importValue.showDashboardBanner != null) {\n                this.showDashboardBanner = importValue.showDashboardBanner;\n            }\n        }\n\n        this.onConfigurationImported.next();\n    }\n\n\n    public export(changesOnly = true): string {\n\n        const exportValue: UserConfiguration = {\n            language: changesOnly ? this._language : this.language,\n            themeId: changesOnly ? this._themeId : this.themeId,\n            homeUrl: changesOnly ? this._homeUrl : this.homeUrl,\n            showDashboardStatistics: changesOnly ? this._showDashboardStatistics : this.showDashboardStatistics,\n            showDashboardNotifications: changesOnly ? this._showDashboardNotifications : this.showDashboardNotifications,\n            showDashboardTodo: changesOnly ? this._showDashboardTodo : this.showDashboardTodo,\n            showDashboardBanner: changesOnly ? this._showDashboardBanner : this.showDashboardBanner\n        };\n\n        return JSON.stringify(exportValue);\n    }\n\n\n    public clearLocalChanges() {\n        this._language = null;\n        this._themeId = null;\n        this._homeUrl = null;\n        this._showDashboardStatistics = null;\n        this._showDashboardNotifications = null;\n        this._showDashboardTodo = null;\n        this._showDashboardBanner = null;\n\n        this.localStorage.deleteData(DBkeys.LANGUAGE);\n        this.localStorage.deleteData(DBkeys.THEME_ID);\n        this.localStorage.deleteData(DBkeys.HOME_URL);\n        this.localStorage.deleteData(DBkeys.SHOW_DASHBOARD_STATISTICS);\n        this.localStorage.deleteData(DBkeys.SHOW_DASHBOARD_NOTIFICATIONS);\n        this.localStorage.deleteData(DBkeys.SHOW_DASHBOARD_TODO);\n        this.localStorage.deleteData(DBkeys.SHOW_DASHBOARD_BANNER);\n\n        this.resetLanguage();\n        this.resetTheme();\n    }\n\n\n    private resetLanguage() {\n        const language = this.translationService.useBrowserLanguage();\n\n        if (language) {\n            this._language = language;\n        } else {\n            this._language = this.translationService.useDefaultLangage();\n        }\n    }\n\n    private resetTheme() {\n        this.themeManager.installTheme();\n        this._themeId = null;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ITranslationServiceContract } from '@polpware/ngx-appkit-contracts-alpha';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppTranslationService implements ITranslationServiceContract {\n\n    private onLanguageChanged = new Subject<string>();\n    languageChanged$ = this.onLanguageChanged.asObservable();\n\n    constructor(private translate: TranslateService) {\n        this.addLanguages(['en', 'fr', 'de', 'pt', 'ar', 'ko']);\n        this.setDefaultLanguage('en');\n    }\n\n    addLanguages(lang: string[]) {\n        this.translate.addLangs(lang);\n    }\n\n    setDefaultLanguage(lang: string) {\n        this.translate.setDefaultLang(lang);\n    }\n\n    getDefaultLanguage() {\n        return this.translate.defaultLang;\n    }\n\n    getBrowserLanguage() {\n        return this.translate.getBrowserLang();\n    }\n\n    getCurrentLanguage() {\n        return this.translate.currentLang;\n    }\n\n    getLoadedLanguages() {\n        return this.translate.langs;\n    }\n\n    useBrowserLanguage(): string | void {\n        const browserLang = this.getBrowserLanguage();\n\n        if (browserLang.match(/en|fr|de|pt|ar|ko/)) {\n            this.changeLanguage(browserLang);\n            return browserLang;\n        }\n    }\n\n    useDefaultLangage() {\n        return this.changeLanguage(null);\n    }\n\n    changeLanguage(language: string) {\n        if (!language) {\n            language = this.getDefaultLanguage();\n        }\n\n        if (language != this.translate.currentLang) {\n            setTimeout(() => {\n                this.translate.use(language);\n                this.onLanguageChanged.next(language);\n            });\n        }\n\n        return language;\n    }\n\n\n    getTranslation(key: string | Array<string>, interpolateParams?: Object): string | any {\n        return this.translate.instant(key, interpolateParams);\n    }\n\n\n    getTranslationAsync(key: string | Array<string>, interpolateParams?: Object): Observable<string | any> {\n        return this.translate.get(key, interpolateParams);\n    }\n\n}\n","\nimport { Injectable } from '@angular/core';\nimport { ILocalStoreManagerContract, StorageManagerConstants, Utilities } from '@polpware/ngx-appkit-contracts-alpha';\nimport { Observable, Subject } from 'rxjs';\n\n\n/**\n* Provides a wrapper for accessing the web storage API and synchronizing session storage across tabs/windows.\n*/\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LocalStoreManager implements ILocalStoreManagerContract {\n    private static syncListenerInitialised = false;\n\n    private static readonly DBKEY_SYNC_KEYS = 'sync_keys';\n    private syncKeys: string[] = [];\n    private initEvent = new Subject();\n\n    private reservedKeys: string[] =\n        [\n            'sync_keys',\n            'addToSyncKeys',\n            'removeFromSyncKeys',\n            'getSessionStorage',\n            'setSessionStorage',\n            'addToSessionStorage',\n            'removeFromSessionStorage',\n            'clearAllSessionsStorage'\n        ];\n\n\n    public initialiseStorageSyncListener() {\n        if (LocalStoreManager.syncListenerInitialised == true) {\n            return;\n        }\n\n        LocalStoreManager.syncListenerInitialised = true;\n        window.addEventListener('storage', this.sessionStorageTransferHandler, false);\n        this.syncSessionStorage();\n    }\n\n    public deinitialiseStorageSyncListener() {\n        window.removeEventListener('storage', this.sessionStorageTransferHandler, false);\n        LocalStoreManager.syncListenerInitialised = false;\n    }\n\n    public clearAllStorage() {\n        this.clearAllSessionsStorage();\n        this.clearLocalStorage();\n    }\n\n    public clearAllSessionsStorage() {\n        this.clearInstanceSessionStorage();\n        localStorage.removeItem(LocalStoreManager.DBKEY_SYNC_KEYS);\n\n        localStorage.setItem('clearAllSessionsStorage', '_dummy');\n        localStorage.removeItem('clearAllSessionsStorage');\n    }\n\n    public clearInstanceSessionStorage() {\n        sessionStorage.clear();\n        this.syncKeys = [];\n    }\n\n    public clearLocalStorage() {\n        localStorage.clear();\n    }\n\n    public saveSessionData(data: any, key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        this.removeFromSyncKeys(key);\n        localStorage.removeItem(key);\n        this.sessionStorageSetItem(key, data);\n    }\n\n    public saveSyncedSessionData(data: any, key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        localStorage.removeItem(key);\n        this.addToSessionStorage(data, key);\n    }\n\n    public savePermanentData(data: any, key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        this.removeFromSessionStorage(key);\n        this.localStorageSetItem(key, data);\n    }\n\n    public moveDataToSessionStorage(key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        const data = this.getData(key);\n\n        if (data == null) {\n            return;\n        }\n\n        this.saveSessionData(data, key);\n    }\n\n    public moveDataToSyncedSessionStorage(key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        const data = this.getData(key);\n\n        if (data == null) {\n            return;\n        }\n\n        this.saveSyncedSessionData(data, key);\n    }\n\n    public moveDataToPermanentStorage(key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        const data = this.getData(key);\n\n        if (data == null) {\n            return;\n        }\n\n        this.savePermanentData(data, key);\n    }\n\n    public exists(key = StorageManagerConstants.DBKEY_USER_DATA) {\n        let data = sessionStorage.getItem(key);\n\n        if (data == null) {\n            data = localStorage.getItem(key);\n        }\n\n        return data != null;\n    }\n\n    public getData(key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        let data = this.sessionStorageGetItem(key);\n\n        if (data == null) {\n            data = this.localStorageGetItem(key);\n        }\n\n        return data;\n    }\n\n    public getDataObject<T>(key = StorageManagerConstants.DBKEY_USER_DATA, isDateType = false): T {\n        let data = this.getData(key);\n\n        if (data != null) {\n            if (isDateType) {\n                data = new Date(data);\n            }\n            return data as T;\n        } else {\n            return null;\n        }\n    }\n\n    public deleteData(key = StorageManagerConstants.DBKEY_USER_DATA) {\n        this.testForInvalidKeys(key);\n\n        this.removeFromSessionStorage(key);\n        localStorage.removeItem(key);\n    }\n\n    public getInitEvent(): Observable<{}> {\n        return this.initEvent.asObservable();\n    }\n\n    private sessionStorageTransferHandler = (event: StorageEvent) => {\n        if (!event.newValue) {\n            return;\n        }\n\n        if (event.key == 'getSessionStorage') {\n            if (sessionStorage.length) {\n                this.localStorageSetItem('setSessionStorage', sessionStorage);\n                localStorage.removeItem('setSessionStorage');\n            }\n        } else if (event.key == 'setSessionStorage') {\n\n            if (!this.syncKeys.length) {\n                this.loadSyncKeys();\n            }\n            const data = JSON.parse(event.newValue);\n            // console.info(\"Set => Key: Transfer setSessionStorage\" + \",  data: \" + JSON.stringify(data));\n\n            for (const key in data) {\n\n                if (this.syncKeysContains(key)) {\n                    this.sessionStorageSetItem(key, JSON.parse(data[key]));\n                }\n            }\n\n            this.onInit();\n        } else if (event.key == 'addToSessionStorage') {\n\n            const data = JSON.parse(event.newValue);\n\n            // console.warn(\"Set => Key: Transfer addToSessionStorage\" + \",  data: \" + JSON.stringify(data));\n\n            this.addToSessionStorageHelper(data.data, data.key);\n        } else if (event.key == 'removeFromSessionStorage') {\n\n            this.removeFromSessionStorageHelper(event.newValue);\n        } else if (event.key == 'clearAllSessionsStorage' && sessionStorage.length) {\n            this.clearInstanceSessionStorage();\n        } else if (event.key == 'addToSyncKeys') {\n            this.addToSyncKeysHelper(event.newValue);\n        } else if (event.key == 'removeFromSyncKeys') {\n            this.removeFromSyncKeysHelper(event.newValue);\n        }\n    }\n\n    private syncSessionStorage() {\n        localStorage.setItem('getSessionStorage', '_dummy');\n        localStorage.removeItem('getSessionStorage');\n    }\n\n    private addToSessionStorage(data: any, key: string) {\n        this.addToSessionStorageHelper(data, key);\n        this.addToSyncKeysBackup(key);\n\n        this.localStorageSetItem('addToSessionStorage', { key, data });\n        localStorage.removeItem('addToSessionStorage');\n    }\n\n    private addToSessionStorageHelper(data: any, key: string) {\n        this.addToSyncKeysHelper(key);\n        this.sessionStorageSetItem(key, data);\n    }\n\n    private removeFromSessionStorage(keyToRemove: string) {\n        this.removeFromSessionStorageHelper(keyToRemove);\n        this.removeFromSyncKeysBackup(keyToRemove);\n\n        localStorage.setItem('removeFromSessionStorage', keyToRemove);\n        localStorage.removeItem('removeFromSessionStorage');\n    }\n\n    private removeFromSessionStorageHelper(keyToRemove: string) {\n\n        sessionStorage.removeItem(keyToRemove);\n        this.removeFromSyncKeysHelper(keyToRemove);\n    }\n\n    private testForInvalidKeys(key: string) {\n        if (!key) {\n            throw new Error('key cannot be empty');\n        }\n\n        if (this.reservedKeys.some(x => x == key)) {\n            throw new Error(`The storage key \"${key}\" is reserved and cannot be used. Please use a different key`);\n        }\n    }\n\n    private syncKeysContains(key: string) {\n\n        return this.syncKeys.some(x => x == key);\n    }\n\n    private loadSyncKeys() {\n        if (this.syncKeys.length) {\n            return;\n        }\n\n        this.syncKeys = this.getSyncKeysFromStorage();\n    }\n\n    private getSyncKeysFromStorage(defaultValue: string[] = []): string[] {\n        const data = this.localStorageGetItem(LocalStoreManager.DBKEY_SYNC_KEYS);\n\n        if (data == null) {\n            return defaultValue;\n        } else {\n            return data as string[];\n        }\n    }\n\n    private addToSyncKeys(key: string) {\n        this.addToSyncKeysHelper(key);\n        this.addToSyncKeysBackup(key);\n\n        localStorage.setItem('addToSyncKeys', key);\n        localStorage.removeItem('addToSyncKeys');\n    }\n\n    private addToSyncKeysBackup(key: string) {\n        const storedSyncKeys = this.getSyncKeysFromStorage();\n\n        if (!storedSyncKeys.some(x => x == key)) {\n            storedSyncKeys.push(key);\n            this.localStorageSetItem(LocalStoreManager.DBKEY_SYNC_KEYS, storedSyncKeys);\n        }\n    }\n\n    private removeFromSyncKeysBackup(key: string) {\n        const storedSyncKeys = this.getSyncKeysFromStorage();\n\n        const index = storedSyncKeys.indexOf(key);\n\n        if (index > -1) {\n            storedSyncKeys.splice(index, 1);\n            this.localStorageSetItem(LocalStoreManager.DBKEY_SYNC_KEYS, storedSyncKeys);\n        }\n    }\n\n    private addToSyncKeysHelper(key: string) {\n        if (!this.syncKeysContains(key)) {\n            this.syncKeys.push(key);\n        }\n    }\n\n    private removeFromSyncKeys(key: string) {\n        this.removeFromSyncKeysHelper(key);\n        this.removeFromSyncKeysBackup(key);\n\n        localStorage.setItem('removeFromSyncKeys', key);\n        localStorage.removeItem('removeFromSyncKeys');\n    }\n\n    private removeFromSyncKeysHelper(key: string) {\n        const index = this.syncKeys.indexOf(key);\n\n        if (index > -1) {\n            this.syncKeys.splice(index, 1);\n        }\n    }\n\n    private localStorageSetItem(key: string, data: any) {\n        localStorage.setItem(key, JSON.stringify(data));\n    }\n\n    private sessionStorageSetItem(key: string, data: any) {\n        sessionStorage.setItem(key, JSON.stringify(data));\n    }\n\n    private localStorageGetItem(key: string) {\n        return Utilities.JsonTryParse(localStorage.getItem(key));\n    }\n\n    private sessionStorageGetItem(key: string) {\n        return Utilities.JsonTryParse(sessionStorage.getItem(key));\n    }\n\n    private onInit() {\n        setTimeout(() => {\n            this.initEvent.next();\n            this.initEvent.complete();\n        });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { AppTheme, IThemeManagerContract } from '@polpware/ngx-appkit-contracts-alpha';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThemeManager implements IThemeManagerContract {\n    themes: Array<AppTheme> = [\n        {\n            id: 1,\n            name: 'Default',\n            href: 'bootstrap.css',\n            isDefault: true,\n            background: '#007bff',\n            color: '#fff'\n        },\n        {\n            id: 2,\n            name: 'Cosmo',\n            href: 'cosmo.css',\n            background: '#2780E3',\n            color: '#373a3c'\n        },\n        {\n            id: 3,\n            name: 'Lumen',\n            href: 'lumen.css',\n            background: '#158CBA',\n            color: '#f0f0f0'\n        },\n        {\n            id: 4,\n            name: 'Cerulean',\n            href: 'cerulean.css',\n            background: '#2FA4E7',\n            color: '#e9ecef'\n        },\n        {\n            id: 5,\n            name: 'Minty',\n            href: 'minty.css',\n            background: '#78C2AD',\n            color: '#F3969A'\n        },\n        {\n            id: 6,\n            name: 'Sketchy',\n            href: 'sketchy.css',\n            background: '#333',\n            color: 'white'\n        },\n        {\n            id: 7,\n            name: 'Slate',\n            href: 'slate.css',\n            background: '#3A3F44',\n            color: '#7A8288',\n            isDark: true\n        },\n        {\n            id: 8,\n            name: 'Flatly',\n            href: 'flatly.css',\n            background: '#2C3E50',\n            color: '#18BC9C'\n        },\n        {\n            id: 9,\n            name: 'Pulse',\n            href: 'pulse.css',\n            background: '#593196',\n            color: '#A991D4'\n        },\n        {\n            id: 10,\n            name: 'Spacelab',\n            href: 'spacelab.css',\n            background: '#446E9B',\n            color: '#999'\n        },\n        {\n            id: 11,\n            name: 'United',\n            href: 'united.css',\n            background: '#E95420',\n            color: '#fff'\n        },\n        {\n            id: 12,\n            name: 'Journal',\n            href: 'journal.css',\n            background: '#EB6864',\n            color: '#aaa'\n        },\n        {\n            id: 13,\n            name: 'Superhero',\n            href: 'superhero.css',\n            background: '#DF691A',\n            color: '#2B3E50',\n            isDark: true\n        },\n        {\n            id: 14,\n            name: 'Solar',\n            href: 'solar.css',\n            background: '#B58900',\n            color: '#002B36',\n            isDark: true\n        }\n    ];\n\n    public installTheme(theme?: AppTheme) {\n        if (theme == null || theme.isDefault) {\n            this.removeStyle('theme');\n        } else {\n            this.setStyle('theme', `assets/themes/${theme.href}`);\n        }\n    }\n\n    public getDefaultTheme(): AppTheme {\n        return this.themes.find(theme => theme.isDefault);\n    }\n\n    public getThemeByID(id: number): AppTheme {\n        return this.themes.find(theme => theme.id === id);\n    }\n\n    private setStyle(key: string, href: string) {\n        this.getLinkElementForKey(key).setAttribute('href', href);\n    }\n\n    private removeStyle(key: string) {\n        const existingLinkElement = this.getExistingLinkElementByKey(key);\n        if (existingLinkElement) {\n            document.head.removeChild(existingLinkElement);\n        }\n    }\n\n    private getLinkElementForKey(key: string) {\n        return this.getExistingLinkElementByKey(key) || this.createLinkElementWithKey(key);\n    }\n\n    private getExistingLinkElementByKey(key: string) {\n        return document.head.querySelector(`link[rel=\"stylesheet\"].${this.getClassNameForKey(key)}`);\n    }\n\n    private createLinkElementWithKey(key: string) {\n        const linkEl = document.createElement('link');\n        linkEl.setAttribute('rel', 'stylesheet');\n        linkEl.classList.add(this.getClassNameForKey(key));\n        document.head.appendChild(linkEl);\n        return linkEl;\n    }\n\n    private getClassNameForKey(key: string) {\n        return `style-manager-${key}`;\n    }\n}\n","import { NgModule } from '@angular/core';\n\n@NgModule({\n    declarations: [],\n    imports: [\n    ],\n    exports: [],\n    providers: [\n    ]\n\n})\nexport class NgxAppkitServicesAlphaModule { }\n"]}